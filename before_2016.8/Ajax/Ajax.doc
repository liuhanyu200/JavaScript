1.Ajax基础
什么是服务器（网页浏览浏览过程分析，如何配置自己的服务器程序AMP）

2.什么是Ajax
只能从服务器上读数据。
而且读取的数据全部都是以文本的形式存在的。string
无刷新读取数据，用户注册，在线聊天室，异步，同步。
注意：页面编码和文件编码必须得一致。

最早源于Google map 

缓存：（可以降低服务器压力）第一次从服务器上抓取，第二次就从缓存里面读取。(就是只读一次)，怎么解决呢？

get 方式提交数据（？t='new Date().getTime()'）读取文本文件不影响，用时间戳来解决缓存问题。多久清除一次可以自己设置。

请求动态文件/数据文件：

读取.json : [{a:12,b:9},{a:8,b:9}]

eval('1+2+3')：计算字符串里的值
eval('[1,2,3]'): 转换字符串为数组
eval('alert('abc)'): 弹出abc
eval('function (...) {...}');转换为函数

Ajax原理：
HTTP请求：get（表单提交默认方式） --- （更适合用来）获取数据 
		1.用url来传值上传有限制（上传图片文件...就不行）
		2.不安全，缓存---历史记录都有记录
		3.便于分享，页面之间传值
		4.会缓存
		5.服务器压力小

		post --- （更适合用来）上传数据（用户注册）
		1.用http content 提交，没上限（容量大32位2G,64位就无限大了）
		2.安全
		3.不便于分享
		4.不缓存
		5.服务器压力大

封装自己的Ajax：

打电话：
（1.弄一个手机  2.拨号  3.说话  4.听）
ajax请求数据：
（1.创建ajax对象  2.连接服务器  3.发送请求  4.接收返回值）

创建Ajax对象：

全局变量其实是window上的一个属性：var a = 12;window.a = 12;
全局函数也是一样的，知识window可以省略，因为我们就是在window运行的。

但是：

出错情况（未定义a）下：alert(a);--->报错  alert(window.a)--->undefined.

所以用一个不存在的变量的时候会出错，但是用一个不存在的属性的时候，会提示undefined--->js的特点。

// IE6 以上的浏览器
var oAjax = new XMLHttpRequest();

// IE6
var oAjax = new ActiveXObject("Microsoft.XMLHTTP");

连接服务器：

js里面的  同步：一件一件做
		异步：多件事一起干（ajax）

连接服务器：
oAjax.open(方法,url,同步还是异步);

发送请求：
oAjax.send();

接收返回值：
oAjax.onreadystatechange = function () {
 	alert(...);
 }

onreadystatechange事件

readyState属性：请求状态

0 --- （未初始化）还没调用open方法
1 --- （正在载入）已调用send方法，正在发送请求
2 --- （载入完成）send方法完成，以收到全部响应内容
3 --- （解析）正在解析响应内容
4 --- （完成）响应内容已经解析完成，客户端可以调用

status属性：请求结果

200 --- 成功
404 --- 资源不存在

responseText：服务器返回给用户的内容

XML过于臃肿，json轻量级

字符集：所有文件的字符集相同








 


